@model Web.Models.DProvider
@using System.Web.Script.Serialization
@{
    ViewBag.Title = "Subscribe an observable array";
}
<div class="col-md-4 col-md-offset-4">
    <h5>
        <strong>Subscripe on an observable array from mapping</strong>
    </h5>
</div>
<div class="col-md-4 col-md-offset-4">
    <div class="form-group">
        <label for="FromSubscribe" class="control-label">From subscribe</label>
        <input type="text" class="form-control" id="FromSucribe" data-bind="value: FromSubscribe" />
    </div>
    <div class="form-group">
        <label for="NewId" class="control-label">New id</label>
        <input type="text" class="form-control" id="NewId" data-bind="value: NewId" />
    </div>
    <div class="form-group">
        <label for="NewDomain" class="control-label">Name</label>
        <input type="text" class="form-control" id="NewDomain" data-bind="value: NewDomain" />
    </div>
    <div class="form-group">
        <button class="form-control btn btn-success" data-bind="click: addEv">add</button>
    </div>

    <table class="table">
        <thead>
            <tr>
                <th>Id</th>
                <th>Name</th>
            </tr>
        </thead>
        <tbody data-bind="foreach: ProvidersDomains">
            <tr>
                <td data-bind="text: Id"></td>
                <td data-bind="text: Name"></td>
            </tr>
        </tbody>
    </table>
</div>
@{
    var data = new JavaScriptSerializer().Serialize(Model);
}
@section scripts
{
    @Scripts.Render("~/bundles/subscribe")
    <script type="text/javascript">
        var provViewModel = new model(@Html.Raw(data));
        ko.applyBindings(provViewModel);
    </script>
}
